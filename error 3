// Unified input handler
const handleInputChange = (field: keyof MyFormData) => 
  (e: CustomEvent | React.ChangeEvent<HTMLInputElement>) => {
    let value: any;
    
    // Handle SdfInput custom events
    if ('detail' in e && e.detail) {
      if ('value' in e.detail) {
        value = e.detail.value; // For SdfInput text/number
      } else if ('item' in e.detail) {
        value = e.detail.item; // For SdfSelectSimple
      }
    } 
    // Handle standard HTML input events
    else if ('target' in e) {
      value = e.target.value; // For date inputs
    }
    
    setFormData(prev => {
      const newData = {...prev, [field]: value};
      
      // Special handling for batch number
      if (field === 'reportType' && 
          (value?.value === '1' || value?.value === '2')) {
        newData.batchNumber = '0000';
      }
      
      return newData;
    });
    
    // Clear error when user changes value
    if (errors[field]) {
      setErrors(prev => ({...prev, [field]: undefined}));
    }
  };
